version: '3.4'

services:
  test:
    container_name: "rateservice-test"
    build:
      dockerfile: test/Dockerfile
      context: ../.
    volumes:
      - ../.:/go/src/github.com/mannanmcc/rateservice
    ports:
      - 52051:52051
    tty: true
    restart: on-failure
  api:
    container_name: "rateservice-api"
    build:
      context: ../.
    volumes:
      - ../.:/go/src/github.com/mannanmcc/rateservice
    ports:
      - 9001:9001
    tty: true
    restart: on-failure